<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:p="http://primefaces.org/ui">

<ui:composition template="/template/templatePrincipal.xhtml">

<ui:define name="breadCrumb">
	<p:menuitem value="#{msg['view.inicio']}" url="/view/index.html" />
	<p:menuitem value="#{msg['view.acao.cadastrar']} #{msg['Usuario']}" url="#" />
</ui:define>

<ui:define name="conteudo">
	<div id="incluirUsuarioWizard">
		<h:form enctype="multipart/form-data">
		    <p:wizard flowListener="#{usuarioWizardMB.onFlowProcess}" nextLabel="#{msg['view.proximoPasso']}" backLabel="#{msg['view.passoAnterior']}">
		    
				<!-- PASSO 1 -->
		        <p:tab id="dadosPessoais" title="#{msg['usuario.view.aba.dadosPessoais']}">
		            <p:panel header="#{msg['usuario.view.aba.dadosPessoais']}" footer="#{msg['view.nota.obrigatoriedade']}">
		                <h:panelGrid columns="4" cellpadding="3" columnClasses="label, field, label, field">
		                    <p:outputLabel for="nome" value="Nome Completo: " />
		                    <p:inputText id="nome" size="50" value="#{usuarioWizardMB.usuario.nome}" required="true" label="Nome"/>
		                    
		                    <p:outputLabel for="nomeExibicao" value="Nome de Exibição: " />
		                    <p:inputText id="nomeExibicao"  value="#{usuarioWizardMB.usuario.nomeExibicao}" required="true" label="Nome de Exibição"/>
		                    
		                    <p:outputLabel for="email" value="E-mail: " />
		                    <p:inputText id="email" size="50" value="#{usuarioWizardMB.usuario.email}" required="true" label="E-mail"/>
		                    
		                    <p:column/><p:column/>
		                    
		                    <p:outputLabel for="cpf" value="Cpf: " />
		                    <p:inputMask id="cpf" value="#{usuarioWizardMB.usuario.cpf}" required="true" label="Cpf" mask="999.999.999-99"/>
		 					
		 					<p:outputLabel for="dataNascimento" value="Data de Nascimento: " />
        					<p:calendar id="dataNascimento" value="#{usuarioWizardMB.usuario.dataNascimento}" 
        								locale="br" required="true" navigator="true" pattern="dd/MM/yyyy"/>
		 					
		 					<p:outputLabel for="rg" value="Rg: " />
		                    <p:inputMask id="rg" value="#{usuarioWizardMB.usuario.registroGeral}" required="true" label="Rg" mask="99.999.999-9"/>
		 					
		 					<p:outputLabel for="orgaoExpedidor" value="Orgão Expedidor: " />
		                    <p:inputText id="orgaoExpedidor" value="#{usuarioWizardMB.usuario.orgaoExpedidor}" required="true" label="Orgão Expedidor" />
		 					
		 					<p:outputLabel for="telefone1" value="Tefelone Nº 1: " />
		                    <p:inputMask id="telefone1" value="#{usuarioWizardMB.usuario.telefonePrincipal}" required="true" label="Tefelone Nº 1" mask="(99) 9999-9999"/>
		 					
		 					<p:outputLabel for="telefone2" value="Tefelone Nº 2: " />
		                    <p:inputMask id="telefone2" value="#{usuarioWizardMB.usuario.telefoneAuxiliar}" label="Tefelone Nº 2" mask="(99) 9999-9999"/>
		 					
		 					<p:outputLabel for="sexo" value="Sexo: " />
					        <p:selectOneButton id="sexo" value="#{usuarioWizardMB.usuario.sexo}" required="true">
					            <f:selectItem itemLabel="Masculino" itemValue="M" />
					            <f:selectItem itemLabel="Feminino" itemValue="F" />
					        </p:selectOneButton>
					        
					        <p:column/><p:column/>
					        
					        <h:outputText value="Foto do Perfil: " />
					        <p:fileUpload value="#{usuarioWizardMB.fotoPerfil}" mode="simple" skinSimple="true"/>
					        
		                </h:panelGrid>
		            </p:panel>
		        </p:tab>
		 	
				<!-- PASSO 2 -->
		        <p:tab id="endereco" title="Endereço">
		            <p:panel header="Endereço" footer="#{msg['view.nota.obrigatoriedade']}">
		                <h:panelGrid columns="4" cellpadding="3" columnClasses="label, value">
		                	<p:outputLabel for="pais" value="Pais:*" />
        					<p:autoComplete id="pais" minQueryLength="2" value="#{usuarioWizardMB.usuario.endereco.pais}" 
        									queryDelay="800" completeMethod="#{autoCompleteUtilMB.completePais}" />
        									
					        <p:outputLabel for="cep" value="Cep: " />
							<p:inputMask id="cep" value="#{usuarioWizardMB.usuario.endereco.cep}" required="true" label="Cep" mask="99999-999" 
								title="Tentaremos preencher os demais campos com base do cep informado." />
		 					
		                    <p:outputLabel for="estado" value="Estado: " />
		                    <p:inputText id="estado" value="#{usuarioWizardMB.usuario.endereco.estado}" required="true" label="Estado" />
		                    
		                    <p:outputLabel for="cidade" value="Cidade: " />
		                    <p:inputText id="cidade" value="#{usuarioWizardMB.usuario.endereco.cidade}" required="true" label="Cidade"/>
		 					
		 					<p:outputLabel for="bairro" value="Bairro: " />
		                    <p:inputText id="bairro" size="60" value="#{usuarioWizardMB.usuario.endereco.bairro}" required="true" label="Bairro"/>
		 					
		 					<p:column/><p:column/>
							
							<p:outputLabel for="rua" value="Rua: " />
		                    <p:inputText id="rua" size="60" value="#{usuarioWizardMB.usuario.endereco.rua}" required="true" label="Rua"/>
		                    
		                    <p:column/><p:column/>
							
							<p:outputLabel for="complemento" value="Complemento: " />
		                    <p:inputText id="complemento" size="60" value="#{usuarioWizardMB.usuario.endereco.complemento}" required="true" label="Complemento"/>
		                </h:panelGrid>
		            </p:panel>
		        </p:tab>
		 		
				<!-- PASSO 3 -->
		        <p:tab id="dadosFuncionario" title="Dados do Funcionário">
		            <p:panel header="Dados do Funcionario" footer="#{msg['view.nota.obrigatoriedade']}">
		                <h:panelGrid columns="2" cellpadding="3" columnClasses="label, value">
		                    <p:outputLabel for="cargo" value="Cargo: " />
		                    <p:inputText id="cargo" value="#{usuarioWizardMB.usuario.cargo}" required="true" label="Cargo"/>
		                    
		                    <p:outputLabel for="tipoServidor" value="Tipo do Servidor: " />
		                    <p:selectOneMenu id="tipoServidor" value="#{usuarioWizardMB.usuario.tipoServidor}" required="true" style="width:150px">
					            <f:selectItem itemLabel="Selecione um tipo" itemValue="" />
					            <f:selectItem itemLabel="Efetivo" itemValue="E" />
					            <f:selectItem itemLabel="Comissionado" itemValue="C" />
					            <f:selectItem itemLabel="Prestador de Serviço" itemValue="P" />
					        </p:selectOneMenu>
		 
		                    <p:outputLabel for="dataPublicacao" value="Data de Publicação: " />
        					<p:calendar id="dataPublicacao" value="#{usuarioWizardMB.usuario.dataPublicacao}" locale="br" navigator="true" pattern="dd/MM/yyyy" 
        						title="Este campo deve ser preenchido caso o tipo do servidor seja efetivo ou comicionado" />
		 
		 					<p:outputLabel for="dataNomeacao" value="Data de Nomeação/Contratação: " />
        					<p:calendar id="dataNomeacao" value="#{usuarioWizardMB.usuario.dataNomeacao}" locale="br" required="true" navigator="true" pattern="dd/MM/yyyy" />
		                </h:panelGrid>
		            </p:panel>
		        </p:tab>
		        
		        <!-- PASSO 4 -->
		        <p:tab id="dadosAcesso" title="Dados de Acesso">
		            <p:panel header="Dados de Acesso - Preencha os campos com as informações de acesso ao sistema do usuário a ser cadastrado." footer="#{msg['view.nota.obrigatoriedade']}">
		                <h:panelGrid columns="2" cellpadding="3" columnClasses="label, value">
		                    <p:outputLabel for="login" value="Login: " />
		                    <p:inputText id="login" value="#{usuarioWizardMB.usuario.login}" required="true" label="Login"/>
		                    
		                    <p:outputLabel for="senha" value="Senha: " />
		                    <p:password id="senha" value="#{usuarioWizardMB.usuario.senha}" match="senhaConfirmacao" required="true" feedback="true" />
		                    
		                    <p:outputLabel for="senhaConfirmacao" value="Comfirmação de Senha: " />
		                    <p:password id="senhaConfirmacao" value="#{usuarioWizardMB.confirmacaoSenha}" required="true" title="Repita a senha digitada no campo acima." />
		               		
		               		<p:outputLabel for="grupoPermissoes" value="Grupo de Permissões: " />
		                    <p:selectOneMenu id="grupoPermissoes" value="#{usuarioWizardMB.usuario.grupoPermissao.id}" required="true" style="width:216px">
				                <f:selectItem itemLabel="Selecione um grupo de permissões" itemValue="" />
				            	<f:selectItems value="#{usuarioWizardMB.gruposPermissoes}" var="grupo" itemLabel="#{grupo.descricao}" itemValue="#{grupo.id}" />
					        </p:selectOneMenu>
		                </h:panelGrid>
		            </p:panel>
		        </p:tab>
		 	
		 		<!-- PASSO 5 -->
		        <p:tab id="confirmacao" title="Confirmação">
		            <p:panel header="Confirmação - Revise os dados informados antes">
		                <h:panelGrid id="confirmation" columns="3" columnClasses="grid,grid,grid">
		                    <h:panelGrid columns="2" columnClasses="label, value">
		                        <h:outputText value="Firstname: " />
		                        <h:outputText value="#{usuarioWizardMB.usuario.firstname}" styleClass="outputLabel"/>
		 
		                        <h:outputText value="Lastname: " />
		                        <h:outputText value="#{usuarioWizardMB.usuario.lastname}" styleClass="outputLabel"/>
		 
		                        <h:outputText value="Age: " />
		                        <h:outputText value="#{usuarioWizardMB.usuario.age}" styleClass="outputLabel"/>
		                    </h:panelGrid>
		 
		                    <h:panelGrid columns="2" columnClasses="label, value">
		                        <h:outputText value="Street: " />
		                        <h:outputText value="#{usuarioWizardMB.usuario.street}" styleClass="outputLabel"/>
		 
		                        <h:outputText value="Postal: " />
		                        <h:outputText value="#{usuarioWizardMB.usuario.postalCode}" styleClass="outputLabel"/>
		 
		                        <h:outputText value="City: " />
		                        <h:outputText value="#{usuarioWizardMB.usuario.city}" styleClass="outputLabel"/>
		                    </h:panelGrid>
		 
		                    <h:panelGrid columns="2" columnClasses="label, value">
		                        <h:outputText value="Email: " />
		                        <h:outputText value="#{usuarioWizardMB.usuario.email}" styleClass="outputLabel"/>
		 
		                        <h:outputText value="Phone " />
		                        <h:outputText value="#{usuarioWizardMB.usuario.phone}" styleClass="outputLabel"/>
		 
		                        <h:outputText value="Info: " />
		                        <h:outputText value="#{usuarioWizardMB.usuario.info}" styleClass="outputLabel"/>
		 
		                        <h:outputText />
		                        <h:outputText />
		                    </h:panelGrid>
		                </h:panelGrid>
		 
		                <p:commandButton value="Submit" actionListener="#{usuarioWizardMB.cadastrar}" process="@this"/>
		            </p:panel>
		        </p:tab>
		    </p:wizard>
	    </h:form>
	</div>
</ui:define>
</ui:composition>

</html>
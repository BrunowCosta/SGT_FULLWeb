<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:p="http://primefaces.org/ui">

<ui:composition template="/resources/view/template/templatePrincipal.xhtml">

<ui:define name="breadCrumb">
	<p:menuitem value="Início" url="/resources/view/index.html" />
	<p:menuitem value="Pesquisar Grupo de Permissões" url="#" />
</ui:define>

<ui:define name="conteudo">
	<div id="pesquisarGrupoPermissao">
		<h:form>
			<p:messages id="messages" showDetail="false" autoUpdate="true" closable="true"  />
			<p:panel header="Pesquise Grupo de Permissões - Encontrei os grupos de permissões cadastrados.">
            	<h:panelGrid columns="1">
	                <h:panelGrid columns="2" cellpadding="3" columnClasses="label, value">
	                	<p:outputLabel for="descricaoGrupoFiltro" value="Descrição: " />
	                    <p:inputText id="descricaoGrupoFiltro" size="40" 
	                    			 value="#{grupoPermissaoController.grupoPermissao.descricao}" label="Descrição Filtro"/>
	                    
	                    <p:outputLabel for="statusFiltro" value="Status: " />
	                    <p:selectOneMenu id="statusFiltro" value="#{grupoPermissaoController.grupoPermissao.status}" 
	                     		         style="width:125px" label="Status Filtro">
	                     		
				            <f:selectItems value="#{grupoPermissaoController.grupoPermissaoStatus}" 
				            			   var="item" itemLabel="#{msg[item.descricao]}" itemValue="#{item}" />
				        </p:selectOneMenu>
	                </h:panelGrid>
	                
	                <p:commandButton value="Pesquisar" actionListener="#{grupoPermissaoController.pesquisar}" 
	                			     icon="ui-icon-check" update="resultadoPesquisa" />
	      		</h:panelGrid>
	      		
            	<p:separator/>
            	
	            <p:dataTable id="resultadoPesquisa" var="grupo" value="#{grupoPermissaoController.resultadoPesquisa}" rowStyleClass="#{grupo.status}">
				    <p:column headerText="Descricao" style="width: 79%">
				        <h:outputText value="#{grupo.descricao}" />
				    </p:column>
				    
				    <p:column headerText="Status" style="width: 9%">
				        <h:outputText value="#{msg[grupo.status.descricao]}" />
				    </p:column>
				 
				    <p:column headerText="Ações" styleClass="acaoColumn">
				        <p:column>
	        				<p:commandButton action="#{grupoPermissaoController.visualizar(grupo.id)}" icon="ui-icon-search" title="#{msg.visualizar}" ajax="false"/>
	        			</p:column>
	        			
	        			<p:column>
	        				<p:commandButton action="#{grupoPermissaoController.alterar}" icon="ui-icon-pencil" title="#{msg.editar}" ajax="false">
	        					 <f:param name="id" value="#{obj.id}" />
	        				</p:commandButton>
	        			</p:column>
	        			
	        			<p:column>
	        				<p:commandButton action="#{grupoPermissaoController.ativar}" icon="ui-icon-check" title="#{msg.ativar}" ajax="false">
	        					 <f:param name="id" value="#{obj.id}" />
	        				</p:commandButton>
	        			</p:column>
	        			
	        			<p:column rendered="">
	        				<p:commandButton action="#{grupoPermissaoController.inativar}" icon="ui-icon-trash" title="#{msg.inativar}" ajax="false">
	        					 <f:param name="id" value="#{obj.id}" />
	        				</p:commandButton>
	        			</p:column>
				    </p:column>
				</p:dataTable>
            </p:panel>
	    </h:form>
	</div>
</ui:define>
</ui:composition>

</html>
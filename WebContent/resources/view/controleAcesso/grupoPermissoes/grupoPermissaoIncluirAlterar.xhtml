<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	  xmlns:f="http://xmlns.jcp.org/jsf/core"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:p="http://primefaces.org/ui">

<ui:composition template="/resources/view/template/templatePrincipal.xhtml">

<ui:define name="breadCrumb">
	<p:menuitem value="Início" url="/resources/view/index.html" />
	<p:menuitem value="Cadastrar Grupo de Permissões" url="#" />
</ui:define>

<ui:define name="conteudo">
	<div id="incluirGrupoPermissao">
		<h:form>
			<p:messages id="messages" showDetail="false" autoUpdate="true" closable="true"  />
			<p:panel header="Cadastrar Novo Grupo de Permissões - Escolhas as permissões que o novo grupo deverá possuir.">
                <h:panelGrid columns="1">
	                <h:panelGrid columns="2" cellpadding="3" columnClasses="label, value">
	                	<p:outputLabel for="descricaoGrupo" value="Descrição do Grupo: " />
	                    <p:inputText id="descricaoGrupo" size="40" value="#{grupoPermissaoController.objetoModelo.descricao}" 
	                    			 required="true" label="Descrição do Grupo"/>
	                    
	                    <p:outputLabel for="status" value="Status: " />
	                    <p:selectOneMenu id="status" value="#{grupoPermissaoController.objetoModelo.status}" 
	                     		required="true" style="width:125px" label="Status do Grupo">
	                     		
				            <f:selectItems value="#{grupoPermissaoController.grupoPermissaoStatus}" 
				            			   var="item" itemLabel="#{msg[item.descricao]}" itemValue="#{item}" />
				        </p:selectOneMenu>
	                </h:panelGrid>
	                
	                <p:separator/>
	                
                	<ui:repeat value="#{grupoPermissaoController.objetoModelo.permissoes}" var="permissao" varStatus="status">
                		<div class="#{status.odd?'left':'right'}">
	                		<h:panelGrid columns="2" cellpadding="3" columnClasses="labelPermissao, valorPermissao">
								<!-- TODO referenciar outputlabel-->
		                		<p:outputLabel value="#{msg[permissao.tipo.descricao]}: " />
			                    <p:selectOneRadio id="Permissao" value="#{permissao.valor}" required="true">
						            <f:selectItems value="#{grupoPermissaoController.permissaoValores}" 
				            			   var="item" itemLabel="#{msg[item.descricao]}" itemValue="#{item}" />
						        </p:selectOneRadio>
						    </h:panelGrid>
					    </div>
                	</ui:repeat>
                	
			        <p:commandButton value="Cadastrar" action="#{grupoPermissaoController.cadastrar}" icon="ui-icon-check"/>
                </h:panelGrid>
                <h:outputText value="Nota: Campos com (*) tem preenchimento obrigatorio." styleClass="notaRodape"/>
            </p:panel>
	    </h:form>
	</div>
</ui:define>
</ui:composition>

</html>